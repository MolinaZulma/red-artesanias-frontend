YUI.add("hermes-template-photo-page-scrappy",(function(l,t){var n=l.Template.Handlebars.revive({1:function(l,t,n,e,o){var a=l.lookupProperty||function(l,t){if(Object.prototype.hasOwnProperty.call(l,t))return l[t]};return"\t"+l.escapeExpression((a(n,"outlet")||t&&a(t,"outlet")||l.hooks.helperMissing).call(null!=t?t:l.nullContext||{},null!=t?a(t,"global-nav-view"):t,{name:"outlet",hash:{},data:o,loc:{start:{line:2,column:1},end:{line:2,column:27}}}))+"\n"},3:function(l,t,n,e,o){var a,r=null!=t?t:l.nullContext||{},i=l.hooks.helperMissing,u=l.escapeExpression,s=l.lookupProperty||function(l,t){if(Object.prototype.hasOwnProperty.call(l,t))return l[t]};return"\t"+u((s(n,"outlet")||t&&s(t,"outlet")||i).call(r,null!=t?s(t,"mobile-photo-well-view"):t,{name:"outlet",hash:{},data:o,loc:{start:{line:6,column:1},end:{line:6,column:34}}}))+"\n\t"+u((s(n,"outlet")||t&&s(t,"outlet")||i).call(r,null!=t?s(t,"photo-engagement-view"):t,{name:"outlet",hash:{},data:o,loc:{start:{line:7,column:1},end:{line:7,column:33}}}))+"\n\n\t"+u((s(n,"outlet")||t&&s(t,"outlet")||i).call(r,null!=t?s(t,"sub-photo-view"):t,{name:"outlet",hash:{},data:o,loc:{start:{line:9,column:1},end:{line:9,column:26}}}))+"\n"+(null!=(a=s(n,"if").call(r,null!=t?s(t,"showStickyAd"):t,{name:"if",hash:{},fn:l.program(4,o,0),inverse:l.noop,data:o,loc:{start:{line:10,column:1},end:{line:12,column:8}}}))?a:"")},4:function(l,t,n,e,o){var a=l.lookupProperty||function(l,t){if(Object.prototype.hasOwnProperty.call(l,t))return l[t]};return"\t\t"+l.escapeExpression((a(n,"outlet")||t&&a(t,"outlet")||l.hooks.helperMissing).call(null!=t?t:l.nullContext||{},null!=t?a(t,"moola-sticky-view"):t,{name:"outlet",hash:{},data:o,loc:{start:{line:11,column:2},end:{line:11,column:30}}}))+"\n"},6:function(l,t,n,e,o){var a,r=l.lookupProperty||function(l,t){if(Object.prototype.hasOwnProperty.call(l,t))return l[t]};return null!=(a=(r(n,"isFlipped")||t&&r(t,"isFlipped")||l.hooks.helperMissing).call(null!=t?t:l.nullContext||{},"enable-dark-photopage-with-sidebar",{name:"isFlipped",hash:{},fn:l.program(7,o,0),inverse:l.program(10,o,0),data:o,loc:{start:{line:14,column:1},end:{line:41,column:15}}}))?a:""},7:function(l,t,n,e,o){var a,r=null!=t?t:l.nullContext||{},i=l.hooks.helperMissing,u=l.escapeExpression,s=l.lookupProperty||function(l,t){if(Object.prototype.hasOwnProperty.call(l,t))return l[t]};return'\t\t<div class="photo-page-container photo-content-upper-container with-scrollable-sidebar">\n\t\t\t\n\t\t\t<div class="photo-content-column" style="flex: 1 1 0%;">\n\t\t\t\t'+u((s(n,"outlet")||t&&s(t,"outlet")||i).call(r,null!=t?s(t,"photo-well-view"):t,{name:"outlet",hash:{},data:o,loc:{start:{line:18,column:4},end:{line:18,column:30}}}))+"\n\t\t\t\t"+u((s(n,"outlet")||t&&s(t,"outlet")||i).call(r,null!=t?s(t,"sub-photo-view"):t,{name:"outlet",hash:{},data:o,loc:{start:{line:19,column:4},end:{line:19,column:29}}}))+'\n\t\t\t</div>\n\t\t\t\t<div class="sidebar-column" style="width: '+u((s(n,"flickrConfig")||t&&s(t,"flickrConfig")||i).call(r,"photopage.sidebarWidth",{name:"flickrConfig",hash:{},data:o,loc:{start:{line:21,column:46},end:{line:21,column:87}}}))+'px; flex-shrink: 0">\n\t\t\t\t\t'+u((s(n,"outlet")||t&&s(t,"outlet")||i).call(r,null!=t?s(t,"photo-page-scrolling-sidebar-view"):t,{name:"outlet",hash:{},data:o,loc:{start:{line:22,column:5},end:{line:22,column:49}}}))+"\n\t\t\t\t</div>\n\t\t</div>\n"+(null!=(a=s(n,"if").call(r,null!=t?s(t,"showStickyAd"):t,{name:"if",hash:{},fn:l.program(8,o,0),inverse:l.noop,data:o,loc:{start:{line:25,column:2},end:{line:27,column:9}}}))?a:"")},8:function(l,t,n,e,o){var a=l.lookupProperty||function(l,t){if(Object.prototype.hasOwnProperty.call(l,t))return l[t]};return"\t\t\t"+l.escapeExpression((a(n,"outlet")||t&&a(t,"outlet")||l.hooks.helperMissing).call(null!=t?t:l.nullContext||{},null!=t?a(t,"moola-sticky-view"):t,{name:"outlet",hash:{},data:o,loc:{start:{line:26,column:3},end:{line:26,column:31}}}))+"\n"},10:function(l,t,n,e,o){var a,r=null!=t?t:l.nullContext||{},i=l.hooks.helperMissing,u=l.escapeExpression,s=l.lookupProperty||function(l,t){if(Object.prototype.hasOwnProperty.call(l,t))return l[t]};return'\t\t<div class="photo-content-upper-container">\n\t\t\t'+u((s(n,"outlet")||t&&s(t,"outlet")||i).call(r,null!=t?s(t,"photo-well-view"):t,{name:"outlet",hash:{},data:o,loc:{start:{line:30,column:3},end:{line:30,column:29}}}))+"\n"+(null!=(a=s(n,"if").call(r,null!=t?s(t,"shouldSeeSidebar"):t,{name:"if",hash:{},fn:l.program(11,o,0),inverse:l.noop,data:o,loc:{start:{line:31,column:3},end:{line:33,column:10}}}))?a:"")+"\t\t</div>\n\n\t\t"+u((s(n,"outlet")||t&&s(t,"outlet")||i).call(r,null!=t?s(t,"sub-photo-view"):t,{name:"outlet",hash:{},data:o,loc:{start:{line:36,column:2},end:{line:36,column:27}}}))+"\n\n"+(null!=(a=s(n,"if").call(r,null!=t?s(t,"showStickyAd"):t,{name:"if",hash:{},fn:l.program(8,o,0),inverse:l.noop,data:o,loc:{start:{line:38,column:2},end:{line:40,column:9}}}))?a:"")},11:function(l,t,n,e,o){var a=l.lookupProperty||function(l,t){if(Object.prototype.hasOwnProperty.call(l,t))return l[t]};return"\t\t\t\t"+l.escapeExpression((a(n,"outlet")||t&&a(t,"outlet")||l.hooks.helperMissing).call(null!=t?t:l.nullContext||{},null!=t?a(t,"photo-page-sidebar-view"):t,{name:"outlet",hash:{},data:o,loc:{start:{line:32,column:4},end:{line:32,column:38}}}))+"\n"},compiler:[8,">= 4.3.0"],main:function(l,t,n,e,o){var a,r=null!=t?t:l.nullContext||{},i=l.hooks.helperMissing,u=l.lookupProperty||function(l,t){if(Object.prototype.hasOwnProperty.call(l,t))return l[t]};return(null!=(a=(u(n,"isFlipped")||t&&u(t,"isFlipped")||i).call(r,"enable-skybox-gn-refactor",{name:"isFlipped",hash:{},fn:l.noop,inverse:l.program(1,o,0),data:o,loc:{start:{line:1,column:0},end:{line:3,column:14}}}))?a:"")+"\n"+(null!=(a=u(n,"if").call(r,null!=t?u(t,"showMobileWell"):t,{name:"if",hash:{},fn:l.program(3,o,0),inverse:l.program(6,o,0),data:o,loc:{start:{line:5,column:0},end:{line:42,column:7}}}))?a:"")+"\n"+l.escapeExpression((u(n,"outlet")||t&&u(t,"outlet")||i).call(r,null!=t?u(t,"footer-full-view"):t,{name:"outlet",hash:{},data:o,loc:{start:{line:44,column:0},end:{line:44,column:27}}}))+"\n"},useData:!0}),e={};l.Array.each([],(function(t){var n=l.Template.get("hermes/"+t);n&&(e[t]=n)})),l.Template.register("hermes/photo-page-scrappy",(function(t,o){return(o=o||{}).partials=o.partials?l.merge(e,o.partials):e,n(t,o)}))}),"@VERSION@",{requires:["template-base","handlebars-base"]});YUI.add("hermes-template-photo-page-scrolling-sidebar",(function(t,e){var n=t.Template.Handlebars.revive({1:function(t,e,n,l,a){var o,s=null!=e?e:t.nullContext||{},r=t.hooks.helperMissing,i=t.escapeExpression,u=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return"\t\t\t"+i((u(n,"outlet")||e&&u(e,"outlet")||r).call(s,null!=e?u(e,"getty-widget-view"):e,{name:"outlet",hash:{},data:a,loc:{start:{line:10,column:3},end:{line:10,column:31}}}))+'\n\t\t\t<div class="pro-features-container">\n\t\t\t\t<ul class="pro-feature-list">\n'+(null!=(o=t.invokePartial(u(l,"pro-benefits-list"),e,{name:"pro-benefits-list",hash:{benefits:null!=e?u(e,"benefits"):e},data:a,indent:"\t\t\t\t\t",helpers:n,partials:l,decorators:t.decorators}))?o:"")+'\t\t\t\t</ul>\n\n\t\t\t\t<button class="pro-button">\n\t\t\t\t\t<a href="/account/upgrade/pro?utm=source=photopage&utm_campaign=scrollingsidebar"><span class="sparkle">âœ¨</span> '+i((u(n,"intlMessage")||e&&u(e,"intlMessage")||r).call(s,{name:"intlMessage",hash:{intlName:"common.GET_PRO"},data:a,loc:{start:{line:17,column:118},end:{line:17,column:159}}}))+"</a>\n\t\t\t\t</button>\n\t\t\t</div>\n\n"},compiler:[8,">= 4.3.0"],main:function(t,e,n,l,a){var o,s=null!=e?e:t.nullContext||{},r=t.hooks.helperMissing,i=t.escapeExpression,u=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'<div class="sidebar-main-container">\n\t<div class="scrollable-container">\n\t\t'+i((u(n,"outlet")||e&&u(e,"outlet")||r).call(s,null!=e?u(e,"attribution-view"):e,{name:"outlet",hash:{},data:a,loc:{start:{line:3,column:2},end:{line:3,column:29}}}))+"\n\t\t"+i((u(n,"outlet")||e&&u(e,"outlet")||r).call(s,null!=e?u(e,"sub-photo-right-stats-view"):e,{name:"outlet",hash:{},data:a,loc:{start:{line:4,column:2},end:{line:4,column:39}}}))+"\n\t\t"+i((u(n,"outlet")||e&&u(e,"outlet")||r).call(s,null!=e?u(e,"sub-photo-date-view"):e,{name:"outlet",hash:{},data:a,loc:{start:{line:5,column:2},end:{line:5,column:32}}}))+"\n\t\t"+i((u(n,"outlet")||e&&u(e,"outlet")||r).call(s,null!=e?u(e,"photo-page-sidebar-popular-photos-view"):e,{name:"outlet",hash:{},data:a,loc:{start:{line:6,column:2},end:{line:6,column:51}}}))+'\n\t\t<div class="moola-detached-container"></div>\n\t\t\n'+(null!=(o=u(n,"if").call(s,null!=e?u(e,"canSeeAds"):e,{name:"if",hash:{},fn:t.program(1,a,0),inverse:t.noop,data:a,loc:{start:{line:9,column:2},end:{line:21,column:9}}}))?o:"")+'\n\t\t<div class="moola-second-detached-container"></div>\n\t</div>\n</div>\n'},usePartial:!0,useData:!0}),l={};t.Array.each(["pro-benefits-list"],(function(e){var n=t.Template.get("hermes/"+e);n&&(l[e]=n)})),t.Template.register("hermes/photo-page-scrolling-sidebar",(function(e,a){return(a=a||{}).partials=a.partials?t.merge(l,a.partials):l,n(e,a)}))}),"@VERSION@",{requires:["template-base","handlebars-base","hermes-template-pro-benefits-list"]});YUI.add("hermes-template-attribution",(function(n,l){var e=n.Template.Handlebars.revive({1:function(n,l,e,a,t){var o,r=null!=l?l:n.nullContext||{},i=n.hooks.helperMissing,u="function",s=n.escapeExpression,c=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return'\t<a class="avatar person medium no-menu" data-person-nsid="'+s(typeof(o=null!=(o=c(e,"nsid")||(null!=l?c(l,"nsid"):l))?o:i)===u?o.call(r,{name:"nsid",hash:{},data:t,loc:{start:{line:2,column:59},end:{line:2,column:67}}}):o)+'" style="background-image: url('+s(typeof(o=null!=(o=c(e,"buddyicon")||(null!=l?c(l,"buddyicon"):l))?o:i)===u?o.call(r,{name:"buddyicon",hash:{},data:t,loc:{start:{line:2,column:98},end:{line:2,column:111}}}):o)+');" href="/photos/'+s(typeof(o=null!=(o=c(e,"pathAlias")||(null!=l?c(l,"pathAlias"):l))?o:i)===u?o.call(r,{name:"pathAlias",hash:{},data:t,loc:{start:{line:2,column:129},end:{line:2,column:142}}}):o)+'/"></a>\n'},3:function(n,l,e,a,t){var o,r=null!=l?l:n.nullContext||{},i=n.hooks.helperMissing,u="function",s=n.escapeExpression,c=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return'\t<a class="avatar person medium"\n\t\trel="author"\n\t\thref="/photos/'+s(typeof(o=null!=(o=c(e,"pathAlias")||(null!=l?c(l,"pathAlias"):l))?o:i)===u?o.call(r,{name:"pathAlias",hash:{},data:t,loc:{start:{line:6,column:16},end:{line:6,column:29}}}):o)+'/"\n\t\tdata-person-nsid="'+s(typeof(o=null!=(o=c(e,"nsid")||(null!=l?c(l,"nsid"):l))?o:i)===u?o.call(r,{name:"nsid",hash:{},data:t,loc:{start:{line:7,column:20},end:{line:7,column:28}}}):o)+'"\n\t\tstyle="background-image: url('+s(typeof(o=null!=(o=c(e,"buddyicon")||(null!=l?c(l,"buddyicon"):l))?o:i)===u?o.call(r,{name:"buddyicon",hash:{},data:t,loc:{start:{line:8,column:31},end:{line:8,column:44}}}):o)+');"\n\t\ttabindex="0"></a>\n'},5:function(n,l,e,a,t){var o,r,i=null!=l?l:n.nullContext||{},u=n.hooks.helperMissing,s="function",c=n.escapeExpression,p=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return'\t<div class="attribution-info">\n\t\t<div class="attribution-detached-container">\n\t\t\t<a rel="author" href="/photos/'+c(typeof(r=null!=(r=p(e,"pathAlias")||(null!=l?p(l,"pathAlias"):l))?r:u)===s?r.call(i,{name:"pathAlias",hash:{},data:t,loc:{start:{line:38,column:33},end:{line:38,column:46}}}):r)+'/" class="owner-name truncate" title="'+c((p(e,"intlMessage")||l&&p(l,"intlMessage")||u).call(i,{name:"intlMessage",hash:{name:null!=l?p(l,"displayname"):l,intlName:"attribution.GO_TO_PHOTOSTREAM"},data:t,loc:{start:{line:38,column:84},end:{line:38,column:157}}}))+'" data-track="attributionNameClick">'+c(typeof(r=null!=(r=p(e,"displayname")||(null!=l?p(l,"displayname"):l))?r:u)===s?r.call(i,{name:"displayname",hash:{},data:t,loc:{start:{line:38,column:193},end:{line:38,column:208}}}):r)+'</a>\n\t\t\t<div class="attribution-sub-container">\n'+(null!=(o=p(e,"if").call(i,null!=l?p(l,"isPro"):l,{name:"if",hash:{},fn:n.program(6,t,0),inverse:n.noop,data:t,loc:{start:{line:40,column:4},end:{line:46,column:11}}}))?o:"")+'\t\t\t\t<p class="attribution-username" title="'+c(typeof(r=null!=(r=p(e,"username")||(null!=l?p(l,"username"):l))?r:u)===s?r.call(i,{name:"username",hash:{},data:t,loc:{start:{line:47,column:43},end:{line:47,column:57}}}):r)+'">'+c(typeof(r=null!=(r=p(e,"username")||(null!=l?p(l,"username"):l))?r:u)===s?r.call(i,{name:"username",hash:{},data:t,loc:{start:{line:47,column:59},end:{line:47,column:73}}}):r)+"</p>\n\t\t\t</div>\n\t\t</div>\n\n\t\t"+c((p(e,"outlet")||l&&p(l,"outlet")||u).call(i,null!=l?p(l,"follow-view"):l,{name:"outlet",hash:{},data:t,loc:{start:{line:51,column:2},end:{line:51,column:24}}}))+"\n\t</div>\n"},6:function(n,l,e,a,t){var o,r=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return null!=(o=r(e,"if").call(null!=l?l:n.nullContext||{},null!=l?r(l,"realFullscreenEnabled"):l,{name:"if",hash:{},fn:n.program(7,t,0),inverse:n.program(9,t,0),data:t,loc:{start:{line:41,column:5},end:{line:45,column:12}}}))?o:""},7:function(n,l,e,a,t){var o,r=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return null!=(o=n.invokePartial(r(a,"pro-badge"),l,{name:"pro-badge",hash:{purchaseProURL:null!=l?r(l,"upgradeProLink"):l,light:!0,badgeType:null!=l?r(l,"proBadge"):l},data:t,indent:"\t\t\t\t\t\t",helpers:e,partials:a,decorators:n.decorators}))?o:""},9:function(n,l,e,a,t){var o,r=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return null!=(o=n.invokePartial(r(a,"pro-badge"),l,{name:"pro-badge",hash:{purchaseProURL:null!=l?r(l,"upgradeProLink"):l,badgeType:null!=l?r(l,"proBadge"):l},data:t,indent:"\t\t\t\t\t\t",helpers:e,partials:a,decorators:n.decorators}))?o:""},11:function(n,l,e,a,t){var o,r,i=null!=l?l:n.nullContext||{},u=n.hooks.helperMissing,s="function",c=n.escapeExpression,p=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return(null!=(o=p(e,"unless").call(i,null!=l?p(l,"isAlbumView"):l,{name:"unless",hash:{},fn:n.program(12,t,0),inverse:n.noop,data:t,loc:{start:{line:13,column:1},end:{line:21,column:12}}}))?o:"")+'\n\t<div class="attribution-info">\n\t\t<a rel="author" href="/photos/'+c(typeof(r=null!=(r=p(e,"pathAlias")||(null!=l?p(l,"pathAlias"):l))?r:u)===s?r.call(i,{name:"pathAlias",hash:{},data:t,loc:{start:{line:24,column:32},end:{line:24,column:45}}}):r)+'/" class="owner-name truncate" title="'+c((p(e,"intlMessage")||l&&p(l,"intlMessage")||u).call(i,{name:"intlMessage",hash:{name:null!=l?p(l,"displayname"):l,intlName:"attribution.GO_TO_PHOTOSTREAM"},data:t,loc:{start:{line:24,column:83},end:{line:24,column:156}}}))+'" data-track="attributionNameClick">'+c(typeof(r=null!=(r=p(e,"displayname")||(null!=l?p(l,"displayname"):l))?r:u)===s?r.call(i,{name:"displayname",hash:{},data:t,loc:{start:{line:24,column:192},end:{line:24,column:207}}}):r)+'</a>\n\t\t<a rel="author" href="/photos/'+c(typeof(r=null!=(r=p(e,"pathAlias")||(null!=l?p(l,"pathAlias"):l))?r:u)===s?r.call(i,{name:"pathAlias",hash:{},data:t,loc:{start:{line:25,column:32},end:{line:25,column:45}}}):r)+'/" class="owner-name-with-by truncate" title="'+c((p(e,"intlMessage")||l&&p(l,"intlMessage")||u).call(i,{name:"intlMessage",hash:{name:null!=l?p(l,"displayname"):l,intlName:"attribution.GO_TO_PHOTOSTREAM"},data:t,loc:{start:{line:25,column:91},end:{line:25,column:164}}}))+'" data-track="attributionNameClick">'+c((p(e,"intlMessage")||l&&p(l,"intlMessage")||u).call(i,{name:"intlMessage",hash:{user:null!=l?p(l,"displayname"):l,intlName:"attribution.BY_USER"},data:t,loc:{start:{line:25,column:200},end:{line:25,column:263}}}))+"</a>\n\n\t\t"+c((p(e,"outlet")||l&&p(l,"outlet")||u).call(i,null!=l?p(l,"follow-view"):l,{name:"outlet",hash:{},data:t,loc:{start:{line:27,column:2},end:{line:27,column:24}}}))+"\n\n"+(null!=(o=p(e,"if").call(i,null!=l?p(l,"isAlbumView"):l,{name:"if",hash:{},fn:n.program(18,t,0),inverse:n.noop,data:t,loc:{start:{line:29,column:2},end:{line:33,column:9}}}))?o:"")+"\t</div>\n"},12:function(n,l,e,a,t){var o,r=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return null!=(o=r(e,"if").call(null!=l?l:n.nullContext||{},null!=l?r(l,"isPro"):l,{name:"if",hash:{},fn:n.program(13,t,0),inverse:n.noop,data:t,loc:{start:{line:14,column:2},end:{line:20,column:9}}}))?o:""},13:function(n,l,e,a,t){var o,r=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return null!=(o=r(e,"if").call(null!=l?l:n.nullContext||{},null!=l?r(l,"realFullscreenEnabled"):l,{name:"if",hash:{},fn:n.program(14,t,0),inverse:n.program(16,t,0),data:t,loc:{start:{line:15,column:3},end:{line:19,column:10}}}))?o:""},14:function(n,l,e,a,t){var o,r=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return null!=(o=n.invokePartial(r(a,"pro-badge"),l,{name:"pro-badge",hash:{purchaseProURL:null!=l?r(l,"upgradeProLink"):l,light:!0,badgeType:null!=l?r(l,"proBadge"):l},data:t,indent:"\t\t\t\t",helpers:e,partials:a,decorators:n.decorators}))?o:""},16:function(n,l,e,a,t){var o,r=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return null!=(o=n.invokePartial(r(a,"pro-badge"),l,{name:"pro-badge",hash:{purchaseProURL:null!=l?r(l,"upgradeProLink"):l,badgeType:null!=l?r(l,"proBadge"):l},data:t,indent:"\t\t\t\t",helpers:e,partials:a,decorators:n.decorators}))?o:""},18:function(n,l,e,a,t){var o,r=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return null!=(o=r(e,"if").call(null!=l?l:n.nullContext||{},null!=l?r(l,"isPro"):l,{name:"if",hash:{},fn:n.program(14,t,0),inverse:n.noop,data:t,loc:{start:{line:30,column:3},end:{line:32,column:10}}}))?o:""},compiler:[8,">= 4.3.0"],main:function(n,l,e,a,t){var o,r=null!=l?l:n.nullContext||{},i=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return(null!=(o=i(e,"if").call(r,null!=l?i(l,"noMenu"):l,{name:"if",hash:{},fn:n.program(1,t,0),inverse:n.program(3,t,0),data:t,loc:{start:{line:1,column:0},end:{line:10,column:7}}}))?o:"")+"\n"+(null!=(o=i(e,"if").call(r,null!=l?i(l,"isSidebarAttribution"):l,{name:"if",hash:{},fn:n.program(5,t,0),inverse:n.program(11,t,0),data:t,loc:{start:{line:12,column:0},end:{line:53,column:7}}}))?o:"")},usePartial:!0,useData:!0}),a={};n.Array.each(["pro-badge","pro-badge","pro-badge","pro-badge","pro-badge"],(function(l){var e=n.Template.get("hermes/"+l);e&&(a[l]=e)})),n.Template.register("hermes/attribution",(function(l,t){return(t=t||{}).partials=t.partials?n.merge(a,t.partials):a,e(l,t)}))}),"@VERSION@",{requires:["template-base","handlebars-base","hermes-template-pro-badge","hermes-template-pro-badge","hermes-template-pro-badge","hermes-template-pro-badge","hermes-template-pro-badge"]});YUI.add("attribution-view",(function(e){var i=new e.SubscriptionsHelper;e.FlickrView.create(this.name,e.FlickrView,[],{langBundles:this.details.langBundles,subviewConfig:{"follow-view":{requiredToShowOnClient:!1,requiredToShowOnServer:!1,disabled:function(){return this.hideFollowView}}},initializer:function(e){return this.nsid=e.nsid,this.albumPhotoListLayoutStyle=e.albumPhotoListLayoutStyle,this.realFullscreen=!!e.realFullscreen,this.hideFollowView=!!e.hideFollowView&&e.hideFollowView,this.isAlbumView=e.isAlbumView,this.parentViewName=e.parentViewName||!1,this},loadState:function(){var e=this;return this.appContext.getModel("person-models",this.nsid).then((function(i){e.set("owner",i)}))},buildContainer:function(){var e,t=this.get("owner"),a=this.get("container"),n=t.getValue("pathAlias")||t.getValue("nsid");return"justified"===this.albumPhotoListLayoutStyle&&a.addClass("justified-album-details-page"),e=t.getValue("buddyicon").large?t.getValue("buddyicon").large:t.getValue("buddyicon").default,this.setContainerWithTemplate("attribution",{isPro:t.getValue("isPro"),proBadge:t.getValue("proBadge"),pathAlias:n,buddyicon:e,nsid:t.getValue("nsid"),displayname:t.getValue("displayname"),username:t.getValue("username"),parentViewName:this.parentViewName,isSidebarAttribution:"photo-page-sidebar-view"===this.parentViewName||"photo-page-scrolling-sidebar-view"===this.parentViewName,realFullscreenEnabled:this.realFullscreen&&this.appContext.experiments.fullscreen.getMode(),isAlbumView:this.isAlbumView,upgradeProLink:i.getProLandingPageUrl(i.UTM_PRO_BADGE,{utm_medium:this.name})}),this},activate:function(){return this}})}),"@VERSION@",{requires:["flickr-view","hermes-template-attribution","promise","follow-view","subscriptions-helper"],optional:["person-models"],langBundles:["attribution","common"]});YUI.add("hermes-template-sub-photo-right-stats",(function(n,l){var t=n.Template.Handlebars.revive({1:function(n,l,t,e,a){return" small-text"},3:function(n,l,t,e,a){return" super-small-text"},5:function(n,l,t,e,a){return'\t\t\t<span class="view-count-label">-</span>\n'},7:function(n,l,t,e,a){var o,r=null!=l?l:n.nullContext||{},s=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return(null!=(o=s(t,"if").call(r,null!=l?s(l,"showEngagementIconsOnly"):l,{name:"if",hash:{},fn:n.program(8,a,0),inverse:n.noop,data:a,loc:{start:{line:7,column:3},end:{line:9,column:10}}}))?o:"")+"\n"+(null!=(o=s(t,"if").call(r,null!=(o=null!=l?s(l,"engagement"):l)?s(o,"viewCount"):o,{name:"if",hash:{},fn:n.program(10,a,0),inverse:n.program(12,a,0),data:a,loc:{start:{line:11,column:3},end:{line:20,column:10}}}))?o:"")},8:function(n,l,t,e,a){return'\t\t\t\t<span class="view-count-label"><svg class="icon icon-view"><use xlink:href="#icon-view"></use></svg></span>\n'},10:function(n,l,t,e,a){var o,r=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return'\t\t\t\t<span class="view-count-label">\n\t\t\t\t\t'+n.escapeExpression((r(t,"intlNumber")||l&&r(l,"intlNumber")||n.hooks.helperMissing).call(null!=l?l:n.nullContext||{},null!=(o=null!=l?r(l,"engagement"):l)?r(o,"viewCount"):o,{name:"intlNumber",hash:{},data:a,loc:{start:{line:13,column:5},end:{line:13,column:40}}}))+"</span>\n"},12:function(n,l,t,e,a){var o,r=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return'\t\t\t\t<span class="view-count-label">\n'+(null!=(o=r(t,"if").call(null!=l?l:n.nullContext||{},null!=l?r(l,"isMobileStats"):l,{name:"if",hash:{},fn:n.program(13,a,0),inverse:n.noop,data:a,loc:{start:{line:16,column:5},end:{line:18,column:12}}}))?o:"")+"\t\t\t\t0</span>\n"},13:function(n,l,t,e,a){return'\t\t\t\t\t\t<svg class="icon icon-view"><use xlink:href="#icon-view"></use></svg>\n'},15:function(n,l,t,e,a){var o,r=null!=l?l:n.nullContext||{},s=n.hooks.helperMissing,i=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return'\t\t\t<span class="stats-label">'+(null!=(o=(i(t,"ifCond")||l&&i(l,"ifCond")||s).call(r,null!=(o=null!=l?i(l,"engagement"):l)?i(o,"viewCount"):o,"===",1,{name:"ifCond",hash:{},fn:n.program(16,a,0),inverse:n.noop,data:a,loc:{start:{line:23,column:29},end:{line:23,column:139}}}))?o:"")+(null!=(o=(i(t,"ifCond")||l&&i(l,"ifCond")||s).call(r,null!=(o=null!=l?i(l,"engagement"):l)?i(o,"viewCount"):o,"!==",1,{name:"ifCond",hash:{},fn:n.program(18,a,0),inverse:n.noop,data:a,loc:{start:{line:23,column:139},end:{line:23,column:247}}}))?o:"")+"</span>\n"},16:function(n,l,t,e,a){var o=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return n.escapeExpression((o(t,"intlMessage")||l&&o(l,"intlMessage")||n.hooks.helperMissing).call(null!=l?l:n.nullContext||{},{name:"intlMessage",hash:{intlName:"photo-page-scrappy.SINGULAR_VIEW"},data:a,loc:{start:{line:23,column:69},end:{line:23,column:128}}}))},18:function(n,l,t,e,a){var o=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return n.escapeExpression((o(t,"intlMessage")||l&&o(l,"intlMessage")||n.hooks.helperMissing).call(null!=l?l:n.nullContext||{},{name:"intlMessage",hash:{intlName:"photo-page-scrappy.PLURAL_VIEW"},data:a,loc:{start:{line:23,column:179},end:{line:23,column:236}}}))},20:function(n,l,t,e,a){var o,r=null!=l?l:n.nullContext||{},s=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return'\t\t<div class="stat-item like-count'+(null!=(o=s(t,"if").call(r,null!=l?s(l,"smallText"):l,{name:"if",hash:{},fn:n.program(1,a,0),inverse:n.noop,data:a,loc:{start:{line:28,column:34},end:{line:28,column:69}}}))?o:"")+(null!=(o=s(t,"if").call(r,null!=l?s(l,"superSmallText"):l,{name:"if",hash:{},fn:n.program(3,a,0),inverse:n.noop,data:a,loc:{start:{line:28,column:69},end:{line:28,column:115}}}))?o:"")+'">\n'+(null!=(o=s(t,"if").call(r,null!=l?s(l,"loadingView"):l,{name:"if",hash:{},fn:n.program(21,a,0),inverse:n.program(23,a,0),data:a,loc:{start:{line:29,column:3},end:{line:47,column:10}}}))?o:"")+"\t\t</div>\n"},21:function(n,l,t,e,a){var o=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return'\t\t\t\t<span class="like-count-label">-</span>\n\t\t\t\t<span class="stats-label">\n\t\t\t\t\t'+n.escapeExpression((o(t,"intlMessage")||l&&o(l,"intlMessage")||n.hooks.helperMissing).call(null!=l?l:n.nullContext||{},{name:"intlMessage",hash:{count:0,intlName:"likes.LIKES_LABEL"},data:a,loc:{start:{line:32,column:5},end:{line:32,column:57}}}))+"\n\t\t\t\t</span>\n"},23:function(n,l,t,e,a){var o,r=null!=l?l:n.nullContext||{},s=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return(null!=(o=s(t,"if").call(r,null!=(o=null!=(o=null!=(o=null!=l?s(l,"engagement"):l)?s(o,"reactions"):o)?s(o,"like"):o)?s(o,"count"):o,{name:"if",hash:{},fn:n.program(24,a,0),inverse:n.program(26,a,0),data:a,loc:{start:{line:35,column:4},end:{line:43,column:11}}}))?o:"")+'\t\t\t\t<span class="stats-label">\n\t\t\t\t\t'+n.escapeExpression((s(t,"intlMessage")||l&&s(l,"intlMessage")||n.hooks.helperMissing).call(r,{name:"intlMessage",hash:{count:null!=(o=null!=(o=null!=(o=null!=l?s(l,"engagement"):l)?s(o,"reactions"):o)?s(o,"like"):o)?s(o,"count"):o,intlName:"likes.LIKES_LABEL"},data:a,loc:{start:{line:45,column:5},end:{line:45,column:87}}}))+"\n\t\t\t\t</span>\n"},24:function(n,l,t,e,a){var o,r=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return'\t\t\t\t\t<span class="like-count-label">\n\t\t\t\t\t\t'+n.escapeExpression((r(t,"intlNumber")||l&&r(l,"intlNumber")||n.hooks.helperMissing).call(null!=l?l:n.nullContext||{},null!=(o=null!=(o=null!=(o=null!=l?r(l,"engagement"):l)?r(o,"reactions"):o)?r(o,"like"):o)?r(o,"count"):o,{name:"intlNumber",hash:{},data:a,loc:{start:{line:37,column:6},end:{line:37,column:52}}}))+"\n\t\t\t\t\t</span>\n"},26:function(n,l,t,e,a){return'\t\t\t\t\t<span class="like-count-label">\n\t\t\t\t\t\t0\n\t\t\t\t\t</span>\n'},28:function(n,l,t,e,a){var o,r=null!=l?l:n.nullContext||{},s=n.hooks.helperMissing,i=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return'\t\t<div class="stat-item fave-count'+(null!=(o=i(t,"if").call(r,null!=l?i(l,"smallText"):l,{name:"if",hash:{},fn:n.program(1,a,0),inverse:n.noop,data:a,loc:{start:{line:50,column:34},end:{line:50,column:69}}}))?o:"")+(null!=(o=i(t,"if").call(r,null!=l?i(l,"superSmallText"):l,{name:"if",hash:{},fn:n.program(3,a,0),inverse:n.noop,data:a,loc:{start:{line:50,column:69},end:{line:50,column:115}}}))?o:"")+'">\n'+(null!=(o=i(t,"if").call(r,null!=l?i(l,"loadingView"):l,{name:"if",hash:{},fn:n.program(29,a,0),inverse:n.program(31,a,0),data:a,loc:{start:{line:51,column:3},end:{line:67,column:10}}}))?o:"")+'\t\t\t<span class="stats-label">'+(null!=(o=(i(t,"ifCond")||l&&i(l,"ifCond")||s).call(r,null!=(o=null!=l?i(l,"engagement"):l)?i(o,"faveCount"):o,"===",1,{name:"ifCond",hash:{},fn:n.program(38,a,0),inverse:n.noop,data:a,loc:{start:{line:68,column:29},end:{line:68,column:139}}}))?o:"")+(null!=(o=(i(t,"ifCond")||l&&i(l,"ifCond")||s).call(r,null!=(o=null!=l?i(l,"engagement"):l)?i(o,"faveCount"):o,"!==",1,{name:"ifCond",hash:{},fn:n.program(40,a,0),inverse:n.noop,data:a,loc:{start:{line:68,column:139},end:{line:68,column:247}}}))?o:"")+"</span>\n\t\t</div>\n"},29:function(n,l,t,e,a){return'\t\t\t\t<span class="fave-count-label">-</span>\n'},31:function(n,l,t,e,a){var o,r=null!=l?l:n.nullContext||{},s=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return(null!=(o=s(t,"if").call(r,null!=l?s(l,"showEngagementIconsOnly"):l,{name:"if",hash:{},fn:n.program(32,a,0),inverse:n.noop,data:a,loc:{start:{line:54,column:4},end:{line:56,column:11}}}))?o:"")+"\n"+(null!=(o=s(t,"if").call(r,null!=(o=null!=l?s(l,"engagement"):l)?s(o,"faveCount"):o,{name:"if",hash:{},fn:n.program(34,a,0),inverse:n.program(36,a,0),data:a,loc:{start:{line:58,column:4},end:{line:66,column:11}}}))?o:"")},32:function(n,l,t,e,a){return'\t\t\t\t\t<span class="fave-count-label"><svg class="icon icon-fave"><use xlink:href="#icon-fave"></use></svg></span>\n'},34:function(n,l,t,e,a){var o,r=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return'\t\t\t\t\t<span class="fave-count-label">\n\t\t\t\t\t\t'+n.escapeExpression((r(t,"intlNumber")||l&&r(l,"intlNumber")||n.hooks.helperMissing).call(null!=l?l:n.nullContext||{},null!=(o=null!=l?r(l,"engagement"):l)?r(o,"faveCount"):o,{name:"intlNumber",hash:{},data:a,loc:{start:{line:60,column:6},end:{line:60,column:41}}}))+"\n\t\t\t\t\t</span>\n"},36:function(n,l,t,e,a){return'\t\t\t\t\t<span class="fave-count-label">\n\t\t\t\t\t\t0\n\t\t\t\t\t</span>\n'},38:function(n,l,t,e,a){var o=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return n.escapeExpression((o(t,"intlMessage")||l&&o(l,"intlMessage")||n.hooks.helperMissing).call(null!=l?l:n.nullContext||{},{name:"intlMessage",hash:{intlName:"photo-page-scrappy.SINGULAR_FAVE"},data:a,loc:{start:{line:68,column:69},end:{line:68,column:128}}}))},40:function(n,l,t,e,a){var o=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return n.escapeExpression((o(t,"intlMessage")||l&&o(l,"intlMessage")||n.hooks.helperMissing).call(null!=l?l:n.nullContext||{},{name:"intlMessage",hash:{intlName:"photo-page-scrappy.PLURAL_FAVE"},data:a,loc:{start:{line:68,column:179},end:{line:68,column:236}}}))},42:function(n,l,t,e,a){return'\t\t\t<span class="comment-count-label">-</span>\n'},44:function(n,l,t,e,a){var o,r=null!=l?l:n.nullContext||{},s=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return(null!=(o=s(t,"if").call(r,null!=l?s(l,"showEngagementIconsOnly"):l,{name:"if",hash:{},fn:n.program(45,a,0),inverse:n.noop,data:a,loc:{start:{line:76,column:3},end:{line:78,column:10}}}))?o:"")+"\n"+(null!=(o=s(t,"if").call(r,null!=(o=null!=l?s(l,"engagement"):l)?s(o,"commentCount"):o,{name:"if",hash:{},fn:n.program(47,a,0),inverse:n.program(49,a,0),data:a,loc:{start:{line:80,column:3},end:{line:86,column:10}}}))?o:"")},45:function(n,l,t,e,a){return'\t\t\t\t<span class="comment-count-label"><svg class="icon icon-comment"><use xlink:href="#icon-comment"></use></svg></span>\n'},47:function(n,l,t,e,a){var o,r=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return'\t\t\t\t<span class="comment-count-label">\n\t\t\t\t'+n.escapeExpression((r(t,"intlNumber")||l&&r(l,"intlNumber")||n.hooks.helperMissing).call(null!=l?l:n.nullContext||{},null!=(o=null!=l?r(l,"engagement"):l)?r(o,"commentCount"):o,{name:"intlNumber",hash:{},data:a,loc:{start:{line:82,column:4},end:{line:82,column:42}}}))+"</span>\n"},49:function(n,l,t,e,a){return'\t\t\t\t<span class="comment-count-label">\n\t\t\t\t0</span>\n'},51:function(n,l,t,e,a){var o,r=null!=l?l:n.nullContext||{},s=n.hooks.helperMissing,i=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return'\t\t\t<span class="stats-label">'+(null!=(o=(i(t,"ifCond")||l&&i(l,"ifCond")||s).call(r,null!=(o=null!=l?i(l,"engagement"):l)?i(o,"commentCount"):o,"===",1,{name:"ifCond",hash:{},fn:n.program(52,a,0),inverse:n.noop,data:a,loc:{start:{line:90,column:29},end:{line:90,column:145}}}))?o:"")+(null!=(o=(i(t,"ifCond")||l&&i(l,"ifCond")||s).call(r,null!=(o=null!=l?i(l,"engagement"):l)?i(o,"commentCount"):o,"!==",1,{name:"ifCond",hash:{},fn:n.program(54,a,0),inverse:n.noop,data:a,loc:{start:{line:90,column:145},end:{line:90,column:259}}}))?o:"")+"</span>\n"},52:function(n,l,t,e,a){var o=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return n.escapeExpression((o(t,"intlMessage")||l&&o(l,"intlMessage")||n.hooks.helperMissing).call(null!=l?l:n.nullContext||{},{name:"intlMessage",hash:{intlName:"photo-page-scrappy.SINGULAR_COMMENT"},data:a,loc:{start:{line:90,column:72},end:{line:90,column:134}}}))},54:function(n,l,t,e,a){var o=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return n.escapeExpression((o(t,"intlMessage")||l&&o(l,"intlMessage")||n.hooks.helperMissing).call(null!=l?l:n.nullContext||{},{name:"intlMessage",hash:{intlName:"photo-page-scrappy.PLURAL_COMMENT"},data:a,loc:{start:{line:90,column:188},end:{line:90,column:248}}}))},56:function(n,l,t,e,a){var o=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]};return'\t<div class="show-more-stats">'+n.escapeExpression((o(t,"intlMessage")||l&&o(l,"intlMessage")||n.hooks.helperMissing).call(null!=l?l:n.nullContext||{},{name:"intlMessage",hash:{intlName:"photo-page-scrappy.SHOW_MORE_STATS"},data:a,loc:{start:{line:96,column:30},end:{line:96,column:91}}}))+"</div>\n"},compiler:[8,">= 4.3.0"],main:function(n,l,t,e,a){var o,r,s,i=null!=l?l:n.nullContext||{},u=n.hooks.helperMissing,c=n.lookupProperty||function(n,l){if(Object.prototype.hasOwnProperty.call(n,l))return n[l]},p='\n<div class="right-stats-details-container">\n\t<div class="stat-item view-count'+(null!=(o=c(t,"if").call(i,null!=l?c(l,"smallText"):l,{name:"if",hash:{},fn:n.program(1,a,0),inverse:n.noop,data:a,loc:{start:{line:3,column:33},end:{line:3,column:68}}}))?o:"")+(null!=(o=c(t,"if").call(i,null!=l?c(l,"superSmallText"):l,{name:"if",hash:{},fn:n.program(3,a,0),inverse:n.noop,data:a,loc:{start:{line:3,column:68},end:{line:3,column:114}}}))?o:"")+'">\n'+(null!=(o=c(t,"if").call(i,null!=l?c(l,"loadingView"):l,{name:"if",hash:{},fn:n.program(5,a,0),inverse:n.program(7,a,0),data:a,loc:{start:{line:4,column:2},end:{line:21,column:9}}}))?o:"")+(null!=(o=c(t,"if").call(i,null!=l?c(l,"showEngagementIconsOnly"):l,{name:"if",hash:{},fn:n.noop,inverse:n.program(15,a,0),data:a,loc:{start:{line:22,column:2},end:{line:24,column:9}}}))?o:"")+"\t</div>\n\n"+(null!=(o=(c(t,"isFlipped")||l&&c(l,"isFlipped")||u).call(i,"enable-likes",{name:"isFlipped",hash:{},fn:n.program(20,a,0),inverse:n.program(28,a,0),data:a,loc:{start:{line:27,column:1},end:{line:70,column:15}}}))?o:"")+'\n\t<div class="stat-item comment-count'+(null!=(o=c(t,"if").call(i,null!=l?c(l,"smallText"):l,{name:"if",hash:{},fn:n.program(1,a,0),inverse:n.noop,data:a,loc:{start:{line:72,column:36},end:{line:72,column:71}}}))?o:"")+(null!=(o=c(t,"if").call(i,null!=l?c(l,"superSmallText"):l,{name:"if",hash:{},fn:n.program(3,a,0),inverse:n.noop,data:a,loc:{start:{line:72,column:71},end:{line:72,column:117}}}))?o:"")+'">\n'+(null!=(o=c(t,"if").call(i,null!=l?c(l,"loadingView"):l,{name:"if",hash:{},fn:n.program(42,a,0),inverse:n.program(44,a,0),data:a,loc:{start:{line:73,column:2},end:{line:87,column:9}}}))?o:"")+"\n"+(null!=(o=c(t,"if").call(i,null!=l?c(l,"showEngagementIconsOnly"):l,{name:"if",hash:{},fn:n.noop,inverse:n.program(51,a,0),data:a,loc:{start:{line:89,column:2},end:{line:91,column:9}}}))?o:"")+"\t</div>\n</div>\n\n";return r=null!=(r=c(t,"showMoreStatsLink")||(null!=l?c(l,"showMoreStatsLink"):l))?r:u,s={name:"showMoreStatsLink",hash:{},fn:n.program(56,a,0),inverse:n.noop,data:a,loc:{start:{line:95,column:0},end:{line:97,column:22}}},o="function"==typeof r?r.call(i,s):r,c(t,"showMoreStatsLink")||(o=n.hooks.blockHelperMissing.call(l,o,s)),null!=o&&(p+=o),p},useData:!0}),e={};n.Array.each([],(function(l){var t=n.Template.get("hermes/"+l);t&&(e[l]=t)})),n.Template.register("hermes/sub-photo-right-stats",(function(l,a){return(a=a||{}).partials=a.partials?n.merge(e,a.partials):e,t(l,a)}))}),"@VERSION@",{requires:["template-base","handlebars-base"]});YUI.add("hermes-template-stats-photo",(function(t,n){var l=t.Template.Handlebars.revive({1:function(t,n,l,a,e){var s,i,o=null!=n?n:t.nullContext||{},r=t.hooks.helperMissing,c="function",u=t.escapeExpression,d=t.lambda,p=t.lookupProperty||function(t,n){if(Object.prototype.hasOwnProperty.call(t,n))return t[n]};return'\n\t<div class="photo-stats-basics">\n\t\t<div class="photo-stats-basics-left">\n\t\t\t<a href="'+u(typeof(i=null!=(i=p(l,"url")||(null!=n?p(n,"url"):n))?i:r)===c?i.call(o,{name:"url",hash:{},data:e,loc:{start:{line:5,column:12},end:{line:5,column:19}}}):i)+'" class="photo-thumbnail" style="background-image: url('+u(typeof(i=null!=(i=p(l,"photoUrl")||(null!=n?p(n,"photoUrl"):n))?i:r)===c?i.call(o,{name:"photoUrl",hash:{},data:e,loc:{start:{line:5,column:74},end:{line:5,column:86}}}):i)+');"></a>\n\t\t\t<div class="photo-info">\n\t\t\t\t<a href="'+u(typeof(i=null!=(i=p(l,"url")||(null!=n?p(n,"url"):n))?i:r)===c?i.call(o,{name:"url",hash:{},data:e,loc:{start:{line:7,column:13},end:{line:7,column:20}}}):i)+'" class="photo-title truncate">'+u(typeof(i=null!=(i=p(l,"title")||(null!=n?p(n,"title"):n))?i:r)===c?i.call(o,{name:"title",hash:{},data:e,loc:{start:{line:7,column:51},end:{line:7,column:60}}}):i)+'</a>\n\t\t\t\t<div class="photo-posted-date">\n'+(null!=(s=(p(l,"friendlyDateScrappySubphoto")||n&&p(n,"friendlyDateScrappySubphoto")||r).call(o,null!=n?p(n,"datePosted"):n,!1,!1,{name:"friendlyDateScrappySubphoto",hash:{},fn:t.program(2,e,0),inverse:t.noop,data:e,loc:{start:{line:9,column:5},end:{line:11,column:37}}}))?s:"")+'\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class="photo-stats-basics-right">\n\t\t\t<div class="view-count"><i></i> '+u(d(null!=(s=null!=n?p(n,"basicStats"):n)?p(s,"viewCount"):s,n))+'</div>\n\t\t\t<div class="fave-count"><i></i> '+u(d(null!=(s=null!=n?p(n,"basicStats"):n)?p(s,"faveCount"):s,n))+'</div>\n\t\t\t<div class="comment-count"><i></i> '+u(d(null!=(s=null!=n?p(n,"basicStats"):n)?p(s,"commentCount"):s,n))+'</div>\n\t\t</div>\n\t</div>\n\n\t<div class="photo-stats-nav">\n\t\t<div class="nav-links">\n\t\t\t<div class="photo-stats-nav-link selected" data-link="views">'+u((p(l,"intlMessage")||n&&p(n,"intlMessage")||r).call(o,{name:"intlMessage",hash:{intlName:"stats.RECENT_VIEWS"},data:e,loc:{start:{line:24,column:64},end:{line:24,column:109}}}))+'</div>\n\t\t\t<div class="photo-stats-nav-link" data-link="sources">'+u((p(l,"intlMessage")||n&&p(n,"intlMessage")||r).call(o,{name:"intlMessage",hash:{intlName:"stats.SOURCES"},data:e,loc:{start:{line:25,column:57},end:{line:25,column:97}}}))+'</div>\n\t\t</div>\n\t\t<div class="photo-stats-nav-extras">\n\t\t\t<div class="date-picker">'+u(typeof(i=null!=(i=p(l,"prettyDateString")||(null!=n?p(n,"prettyDateString"):n))?i:r)===c?i.call(o,{name:"prettyDateString",hash:{},data:e,loc:{start:{line:28,column:28},end:{line:28,column:48}}}):i)+' <span></span></div>\n\t\t\t<div class="date-holder"></div>\n\t\t</div>\n\t</div>\n\n\t<div class="photo-stats-sections" data-showing="views">\n\n\t\t<div class="photo-stats-section" data-section="views">\n\t\t\t<div class="daily-views-graph">\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div class="photo-stats-section" data-section="sources">\n\n\t\t\t<div class="source-breakdown-left'+(null!=(s=p(l,"unless").call(o,null!=n?p(n,"hasReferrers"):n,{name:"unless",hash:{},fn:t.program(4,e,0),inverse:t.noop,data:e,loc:{start:{line:42,column:36},end:{line:42,column:82}}}))?s:"")+'">\n\t\t\t\t<div class="no-sources">\n\t\t\t\t\t'+u((p(l,"intlMessage")||n&&p(n,"intlMessage")||r).call(o,{name:"intlMessage",hash:{intlName:"stats.NO_SOURCES_TODAY"},data:e,loc:{start:{line:44,column:5},end:{line:44,column:54}}}))+'\n\t\t\t\t</div>\n\n\t\t\t\t<div class="sources-pie-chart pie-chart"></div>\n\t\t\t</div>\n\n\t\t\t<div class="source-breakdown-right'+(null!=(s=p(l,"unless").call(o,null!=n?p(n,"hasReferrers"):n,{name:"unless",hash:{},fn:t.program(4,e,0),inverse:t.noop,data:e,loc:{start:{line:50,column:37},end:{line:50,column:83}}}))?s:"")+'">\n\t\t\t\t<div class="sources-breakdown">\n\t\t\t\t\t<div class="sources-breakdown-header">\n\t\t\t\t\t\t<div>'+u((p(l,"intlMessage")||n&&p(n,"intlMessage")||r).call(o,{name:"intlMessage",hash:{intlName:"stats.SOURCES"},data:e,loc:{start:{line:53,column:11},end:{line:53,column:51}}}))+"</div>\n\t\t\t\t\t\t<div>"+u((p(l,"intlMessage")||n&&p(n,"intlMessage")||r).call(o,{name:"intlMessage",hash:{intlName:"stats.VISITS"},data:e,loc:{start:{line:54,column:11},end:{line:54,column:50}}}))+'</div>\n\t\t\t\t\t\t<div>%</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="sources-breakdown-list"></div>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t</div>\n\n\t</div>\n\n'},2:function(t,n,l,a,e){var s=t.lookupProperty||function(t,n){if(Object.prototype.hasOwnProperty.call(t,n))return t[n]};return"\t\t\t\t\t\t"+t.escapeExpression((s(l,"intlMessage")||n&&s(n,"intlMessage")||t.hooks.helperMissing).call(null!=n?n:t.nullContext||{},{name:"intlMessage",hash:{intlDate:null!=n?s(n,"intlDate"):n,intlName:null!=n?s(n,"intlName"):n},data:e,loc:{start:{line:10,column:6},end:{line:10,column:57}}}))+"\n"},4:function(t,n,l,a,e){return" no-results"},6:function(t,n,l,a,e){var s=t.lookupProperty||function(t,n){if(Object.prototype.hasOwnProperty.call(t,n))return t[n]};return'\n\t<div class="no-stats-available">\n\t\t'+t.escapeExpression((s(l,"intlMessage")||n&&s(n,"intlMessage")||t.hooks.helperMissing).call(null!=n?n:t.nullContext||{},{name:"intlMessage",hash:{intlName:"stats.NO_RECENT_PHOTO_STATS_AVAILABLE"},data:e,loc:{start:{line:68,column:2},end:{line:68,column:66}}}))+"\n\t</div>\n\n"},compiler:[8,">= 4.3.0"],main:function(t,n,l,a,e){var s,i=t.lookupProperty||function(t,n){if(Object.prototype.hasOwnProperty.call(t,n))return t[n]};return null!=(s=i(l,"if").call(null!=n?n:t.nullContext||{},null!=n?i(n,"actuallyHasSomeStats"):n,{name:"if",hash:{},fn:t.program(1,e,0),inverse:t.program(6,e,0),data:e,loc:{start:{line:1,column:0},end:{line:71,column:7}}}))?s:""},useData:!0}),a={};t.Array.each([],(function(n){var l=t.Template.get("hermes/"+n);l&&(a[n]=l)})),t.Template.register("hermes/stats-photo",(function(n,e){return(e=e||{}).partials=e.partials?t.merge(a,e.partials):a,l(n,e)}))}),"@VERSION@",{requires:["template-base","handlebars-base"]});YUI.add("stats-helper",(function(e){"use strict";var t;t=YUI.Env.isServer?require("querystring").stringify:function(e){var t,r,a,o=[];for(t in e)if(e.hasOwnProperty(t))if(Array.isArray(e[t]))for(r=0,a=e[t].length;r<a;r++)o.push(encodeURIComponent(t)+"="+encodeURIComponent(e[t][r]));else o.push(encodeURIComponent(t)+"="+encodeURIComponent(e[t]));return o.join("&")},e.StatsHelper=function(){},e.StatsHelper.prototype.moveToFrontOfArray=function(e,t){var r=-1;return e.forEach((function(e,a){e===t&&(r=a)})),r>-1&&e.unshift(e.splice(r,1)[0]),e},e.StatsHelper.prototype.moveToEndOfArray=function(e,t){var r=-1;return e.forEach((function(e,a){e===t&&(r=a)})),r>-1&&(e.push(e[r]),e.splice(r,1)),e},e.StatsHelper.prototype.whichChild=function(e){for(var t=0;null!==(e=e.previousElementSibling);)++t;return t},e.StatsHelper.prototype.getRoundedRectanglePath=function(e,t,r,a,o,n,s){var c,i=e[0],p=e[1],u=t[0],f=t[1];return c="M"+(i+r)+","+p,c+="h"+(u-2*r),o?c+="a"+r+","+r+" 0 0 1 "+r+","+r:(c+="h"+r,c+="v"+r),c+="v"+(f-2*r),s?c+="a"+r+","+r+" 0 0 1 "+-r+","+r:(c+="v"+r,c+="h"+-r),c+="h"+(2*r-u),n?c+="a"+r+","+r+" 0 0 1 "+-r+","+-r:(c+="h"+-r,c+="v"+-r),c+="v"+(2*r-f),a?c+="a"+r+","+r+" 0 0 1 "+r+","+-r:(c+="v"+-r,c+="h"+r),c+="z"},e.StatsHelper.prototype.getIdFromParams=function(e){var r=t(e);return""===r&&(r=1),r},e.StatsHelper.prototype.convertStorageTotalToRealNumber=function(e){var t=e;return-1===e&&(t=-1),t},e.StatsHelper.prototype.convertStorageAmountToRealNumber=function(e){var t,r,a;return e=parseInt(e,10)||1,t=Math.ceil(Math.log(e)/Math.LN10),r=Math.floor(t/3),a=e/Math.pow(10,3*r),a=Math.floor(100*a)/100},e.StatsHelper.prototype.convertNaturalLanguageDateToRealDateTimestamp=function(t,r){var a,o="";switch(a=e.moment(),r){case"today":o=a;break;case"yesterday":o=a.subtract(1,"days");break;case"thisweek":case"week":o=a.startOf("week");break;case"lastweek":o=a.subtract(1,"weeks").startOf("week");break;case"twoweeksago":case"theweekbeforethat":o=a.subtract(2,"weeks").startOf("week");break;case"threeweeksago":case"theweekbeforetheweekbeforethat":o=a.subtract(3,"weeks").startOf("week")}return""!==o&&(o=new e.TimezoneHelper(t,o.format("X"),"+00:00").toFormat("YYYY-MM-DD")),o}}),"@VERSION@",{affinity:"",requires:["flickr-promise","event-custom","moment","timezone-helper"],optional:[]});