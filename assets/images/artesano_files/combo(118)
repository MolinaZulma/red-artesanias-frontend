YUI.add("license-models",(function(e){function t(i){this.localizeLib=e.mix({langBundles:["photo-page-scrappy","settings","common"],appContext:i},e.Localizable),t.superclass.constructor.call(this,i)}e.Models[this.name]=t,e.extend(t,e.FlickrModelRegistry,{name:this.name,remote:{read:function(t){return e.ListFetchers["flickr-photos-licenses-getInfo"].run(t,this.appContext)}},attributes:{name:{validator:function(t){return e.AttributeHelpers.validateString(t)},setter:function(t){return e.AttributeHelpers.coerceString(t)},defaultValue:""},url:{validator:function(t){return e.AttributeHelpers.validateString(t)},setter:function(t){return e.AttributeHelpers.coerceString(t)},defaultValue:""},intlDesc:{readOnly:!0,derivedBy:["id"],getter:function(e,t){let i=["settings.ALL_RIGHTS_RESERVED",this.appContext.flipper.isFlipped("enable_cc4_licenses")?"common.LICENSE_TITLE_1":"settings.ATTRIBUTION_NONCOMMERCIAL_SHAREALIKE",this.appContext.flipper.isFlipped("enable_cc4_licenses")?"common.LICENSE_TITLE_2":"settings.ATTRIBUTION_NONCOMMERCIAL",this.appContext.flipper.isFlipped("enable_cc4_licenses")?"common.LICENSE_TITLE_3":"settings.ATTRIBUTION_NONCOMMERCIAL_NODERIVS",this.appContext.flipper.isFlipped("enable_cc4_licenses")?"common.LICENSE_TITLE_4":"settings.ATTRIBUTION",this.appContext.flipper.isFlipped("enable_cc4_licenses")?"common.LICENSE_TITLE_5":"settings.ATTRIBUTION_SHAREALIKE",this.appContext.flipper.isFlipped("enable_cc4_licenses")?"common.LICENSE_TITLE_6":"settings.ATTRIBUTION_NODERIVS","settings.NO_COPYRIGHT_RESTRICTIONS","settings.US_GOV_WORK",this.appContext.flipper.isFlipped("enable_cc4_licenses")?"common.LICENSE_TITLE_9_40":"settings.PUBLIC_DOMAIN_DEDICATION","settings.PUBLIC_DOMAIN_WORK","common.LICENSE_TITLE_11","common.LICENSE_TITLE_12","common.LICENSE_TITLE_13","common.LICENSE_TITLE_14","common.LICENSE_TITLE_15","common.LICENSE_TITLE_16"][t];return this.localizeLib.intlMessage({intlName:i})}},genericIntlDesc:{readOnly:!0,derivedBy:["id"],getter:function(e,t){let i=["photo-page-scrappy.ALL_RIGHTS_RESERVED","photo-page-scrappy.SOME_RIGHTS_RESERVED","photo-page-scrappy.SOME_RIGHTS_RESERVED","photo-page-scrappy.SOME_RIGHTS_RESERVED","photo-page-scrappy.SOME_RIGHTS_RESERVED","photo-page-scrappy.SOME_RIGHTS_RESERVED","photo-page-scrappy.SOME_RIGHTS_RESERVED","photo-page-scrappy.NO_RESTRICTIONS","photo-page-scrappy.USA_GOV_WORK","photo-page-scrappy.PUBLIC_DOMAIN","photo-page-scrappy.PUBLIC_DOMAIN","photo-page-scrappy.SOME_RIGHTS_RESERVED","photo-page-scrappy.SOME_RIGHTS_RESERVED","photo-page-scrappy.SOME_RIGHTS_RESERVED","photo-page-scrappy.SOME_RIGHTS_RESERVED","photo-page-scrappy.SOME_RIGHTS_RESERVED","photo-page-scrappy.SOME_RIGHTS_RESERVED"][t];return this.localizeLib.intlMessage({intlName:i})}},isCreativeCommons:{readOnly:!0,derivedBy:["id"],getter:function(e,t){return t=parseInt(t),[1,2,3,4,5,6,9,11,12,13,14,15,16].includes(t)}},ownerCanChange:{readOnly:!0,derivedBy:["id"],getter:function(e,t){return t=parseInt(t),![7,8].includes(t)}},supportsAttribution:{readOnly:!0,derivedBy:["id"],getter:function(e,t){return t=parseInt(t),![0].includes(t)}},urlWithTranslations:{readOnly:!0,derivedBy:["id","url"],getter:function(e,t){t=parseInt(t);let i=this.getValue(t,"url"),s=this.appContext.lang.toLowerCase(),n="deed.en";if([0,7,8].includes(t))return i;switch(s){case"de-de":n="deed.de";break;case"es-us":n="deed.es";break;case"fr-fr":n="deed.fr";break;case"id-id":n="deed.id";break;case"it-it":n="deed.it";break;case"ko-kr":n="deed.ko";break;case"pt-br":n="deed.pt-br";break;case"vi-vn":break;case"zh-hk":n="deed.zh-hant"}return i+n}}}})}),"@VERSION@",{requires:["flickr-model-registry","flickr-promise","flickr-photos-licenses-getInfo-fetcher"]});YUI.add("flickr-photos-licenses-getInfo-fetcher",(function(e,s){"use strict";require("hermes-core/flog")(s);e.namespace("ListFetchers")["flickr-photos-licenses-getInfo"]={run:function(r,o){var n=this;return new e.FlickrPromise({apiResponse:o.callAPI("flickr.photos.licenses.getInfo",this._processParams(r)),modelRegistry:o.getModelRegistry("license-models")}).then((function(e){return n._processResponse(e,r)}),(function(e){throw e})).catch(e.FetcherErrorLogger(s))},_processResponse:function(e,s){var r,o=e.apiResponse,n=e.modelRegistry;return o.licenses.license.forEach(((e,s)=>{(r={}).id=parseInt(e.id,10)||0,r.name=e.name||"",r.url=unescape(e.url)||"",n.addOrUpdate(r)})),r},_processParams:function(e){return{}}}}),"@VERSION@",{requires:["flickr-promise","api-helper"],optionalRequires:["hermes-core"],optional:["license-models"]});